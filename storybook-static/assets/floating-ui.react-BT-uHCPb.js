import{r as f,a as ar}from"./index-BwDkhjyp.js";import{r as An}from"./index-B8XB3FuZ.js";function bt(){return typeof window<"u"}function Se(e){return Pn(e)?(e.nodeName||"").toLowerCase():"#document"}function fe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function be(e){var t;return(t=(Pn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Pn(e){return bt()?e instanceof Node||e instanceof fe(e).Node:!1}function G(e){return bt()?e instanceof Element||e instanceof fe(e).Element:!1}function ne(e){return bt()?e instanceof HTMLElement||e instanceof fe(e).HTMLElement:!1}function _t(e){return!bt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fe(e).ShadowRoot}function Qe(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=me(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function fr(e){return["table","td","th"].includes(Se(e))}function yt(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function jt(e){const t=xt(),n=G(e)?me(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function dr(e){let t=xe(e);for(;ne(t)&&!Oe(t);){if(jt(t))return t;if(yt(t))return null;t=xe(t)}return null}function xt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Oe(e){return["html","body","#document"].includes(Se(e))}function me(e){return fe(e).getComputedStyle(e)}function wt(e){return G(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xe(e){if(Se(e)==="html")return e;const t=e.assignedSlot||e.parentNode||_t(e)&&e.host||be(e);return _t(t)?t.host:t}function kn(e){const t=xe(e);return Oe(t)?e.ownerDocument?e.ownerDocument.body:e.body:ne(t)&&Qe(t)?t:kn(t)}function Ie(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=kn(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=fe(o);if(i){const c=Bt(s);return t.concat(s,s.visualViewport||[],Qe(o)?o:[],c&&n?Ie(c):[])}return t.concat(o,Ie(o,[],n))}function Bt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ge(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function te(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&_t(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Ln(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Dn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Fn(e){return e.mozInputSource===0&&e.isTrusted?!0:Kt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function qt(e){return mr()?!1:!Kt()&&e.width===0&&e.height===0||Kt()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function zt(){return/apple/i.test(navigator.vendor)}function Kt(){const e=/android/i;return e.test(Ln())||e.test(Dn())}function Nn(){return Ln().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function mr(){return Dn().includes("jsdom/")}function Ze(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function gr(e){return"nativeEvent"in e}function pr(e){return e.matches("html,body")}function ie(e){return(e==null?void 0:e.ownerDocument)||document}function St(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function ye(e){return"composedPath"in e?e.composedPath()[0]:e.target}const hr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Ut(e){return ne(e)&&e.matches(hr)}function oe(e){e.preventDefault(),e.stopPropagation()}function Vt(e){return e?e.getAttribute("role")==="combobox"&&Ut(e):!1}const ut=Math.min,ke=Math.max,lt=Math.round,Ke=Math.floor,ve=e=>({x:e,y:e}),vr={left:"right",right:"left",bottom:"top",top:"bottom"},br={start:"end",end:"start"};function nn(e,t,n){return ke(e,ut(t,n))}function Rt(e,t){return typeof e=="function"?e(t):e}function De(e){return e.split("-")[0]}function Et(e){return e.split("-")[1]}function _n(e){return e==="x"?"y":"x"}function Bn(e){return e==="y"?"height":"width"}function We(e){return["top","bottom"].includes(De(e))?"y":"x"}function Kn(e){return _n(We(e))}function yr(e,t,n){n===void 0&&(n=!1);const r=Et(e),o=Kn(e),i=Bn(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=at(s)),[s,at(s)]}function xr(e){const t=at(e);return[Wt(e),t,Wt(t)]}function Wt(e){return e.replace(/start|end/g,t=>br[t])}function wr(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function Rr(e,t,n,r){const o=Et(e);let i=wr(De(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Wt)))),i}function at(e){return e.replace(/left|right|bottom|top/g,t=>vr[t])}function Er(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tr(e){return typeof e!="number"?Er(e):{top:e,right:e,bottom:e,left:e}}function ft(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Cr=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],dt=Cr.join(","),Vn=typeof Element>"u",$e=Vn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,mt=!Vn&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},gt=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},Ir=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Or=function(t,n,r){if(gt(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(dt));return n&&$e.call(t,dt)&&o.unshift(t),o=o.filter(r),o},Sr=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!gt(s,!1))if(s.tagName==="SLOT"){var c=s.assignedElements(),l=c.length?c:s.children,u=e(l,!0,r);r.flatten?o.push.apply(o,u):o.push({scopeParent:s,candidates:u})}else{var g=$e.call(s,dt);g&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var a=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),h=!gt(a,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(a&&h){var d=e(a===!0?s.children:a.children,!0,r);r.flatten?o.push.apply(o,d):o.push({scopeParent:s,candidates:d})}else i.unshift.apply(i,s.children)}}return o},Wn=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},$n=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Ir(t))&&!Wn(t)?0:t.tabIndex},Mr=function(t,n){var r=$n(t);return r<0&&n&&!Wn(t)?0:r},Ar=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Hn=function(t){return t.tagName==="INPUT"},Pr=function(t){return Hn(t)&&t.type==="hidden"},kr=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Lr=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Dr=function(t){if(!t.name)return!0;var n=t.form||mt(t),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=Lr(o,t.form);return!i||i===t},Fr=function(t){return Hn(t)&&t.type==="radio"},Nr=function(t){return Fr(t)&&!Dr(t)},_r=function(t){var n,r=t&&mt(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,c,l;for(i=!!((s=o)!==null&&s!==void 0&&(c=s.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!i&&o;){var u,g,a;r=mt(o),o=(u=r)===null||u===void 0?void 0:u.host,i=!!((g=o)!==null&&g!==void 0&&(a=g.ownerDocument)!==null&&a!==void 0&&a.contains(o))}}return i},rn=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Br=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=$e.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if($e.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var l=t.parentElement,u=mt(t);if(l&&!l.shadowRoot&&o(l)===!0)return rn(t);t.assignedSlot?t=t.assignedSlot:!l&&u!==t.ownerDocument?t=u.host:t=l}t=c}if(_r(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return rn(t);return!1},Kr=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return $e.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},Vr=function(t,n){return!(n.disabled||gt(n)||Pr(n)||Br(n,t)||kr(n)||Kr(n))},$t=function(t,n){return!(Nr(n)||$n(n)<0||!Vr(t,n))},Wr=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},$r=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,c=s?o.scopeParent:o,l=Mr(c,s),u=s?e(o.candidates):c;l===0?s?n.push.apply(n,u):n.push(c):r.push({documentOrder:i,tabIndex:l,item:o,isScope:s,content:u})}),r.sort(Ar).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},Tt=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Sr([t],n.includeContainer,{filter:$t.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Wr}):r=Or(t,n.includeContainer,$t.bind(null,n)),$r(r)},Hr=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return $e.call(t,dt)===!1?!1:$t(n,t)};function on(e,t,n){let{reference:r,floating:o}=e;const i=We(t),s=Kn(t),c=Bn(s),l=De(t),u=i==="y",g=r.x+r.width/2-o.width/2,a=r.y+r.height/2-o.height/2,h=r[c]/2-o[c]/2;let d;switch(l){case"top":d={x:g,y:r.y-o.height};break;case"bottom":d={x:g,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:a};break;case"left":d={x:r.x-o.width,y:a};break;default:d={x:r.x,y:r.y}}switch(Et(t)){case"start":d[s]-=h*(n&&u?-1:1);break;case"end":d[s]+=h*(n&&u?-1:1);break}return d}const jr=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:a}=on(u,r,l),h=r,d={},m=0;for(let p=0;p<c.length;p++){const{name:w,fn:x}=c[p],{x:E,y,data:I,reset:k}=await x({x:g,y:a,initialPlacement:r,placement:h,strategy:o,middlewareData:d,rects:u,platform:s,elements:{reference:e,floating:t}});g=E??g,a=y??a,d={...d,[w]:{...d[w],...I}},k&&m<=50&&(m++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(u=k.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):k.rects),{x:g,y:a}=on(u,h,l)),p=-1)}return{x:g,y:a,placement:h,strategy:o,middlewareData:d}};async function jn(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:g="viewport",elementContext:a="floating",altBoundary:h=!1,padding:d=0}=Rt(t,e),m=Tr(d),w=c[h?a==="floating"?"reference":"floating":a],x=ft(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:g,strategy:l})),E=a==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),I=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},k=ft(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:y,strategy:l}):E);return{top:(x.top-k.top+m.top)/I.y,bottom:(k.bottom-x.bottom+m.bottom)/I.y,left:(x.left-k.left+m.left)/I.x,right:(k.right-x.right+m.right)/I.x}}const qr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:l,elements:u}=t,{mainAxis:g=!0,crossAxis:a=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...w}=Rt(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=De(o),E=We(c),y=De(c)===c,I=await(l.isRTL==null?void 0:l.isRTL(u.floating)),k=h||(y||!p?[at(c)]:xr(c)),L=m!=="none";!h&&L&&k.push(...Rr(c,p,m,I));const H=[c,...k],q=await jn(t,w),W=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&W.push(q[x]),a){const T=yr(o,s,I);W.push(q[T[0]],q[T[1]])}if(P=[...P,{placement:o,overflows:W}],!W.every(T=>T<=0)){var j,O;const T=(((j=i.flip)==null?void 0:j.index)||0)+1,S=H[T];if(S)return{data:{index:T,overflows:P},reset:{placement:S}};let b=(O=P.filter(R=>R.overflows[0]<=0).sort((R,C)=>R.overflows[1]-C.overflows[1])[0])==null?void 0:O.placement;if(!b)switch(d){case"bestFit":{var M;const R=(M=P.filter(C=>{if(L){const v=We(C.placement);return v===E||v==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(v=>v>0).reduce((v,A)=>v+A,0)]).sort((C,v)=>C[1]-v[1])[0])==null?void 0:M[0];R&&(b=R);break}case"initialPlacement":b=c;break}if(o!==b)return{reset:{placement:b}}}return{}}}};async function zr(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=De(n),c=Et(n),l=We(n)==="y",u=["left","top"].includes(s)?-1:1,g=i&&l?-1:1,a=Rt(t,e);let{mainAxis:h,crossAxis:d,alignmentAxis:m}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:a.mainAxis||0,crossAxis:a.crossAxis||0,alignmentAxis:a.alignmentAxis};return c&&typeof m=="number"&&(d=c==="end"?m*-1:m),l?{x:d*g,y:h*u}:{x:h*u,y:d*g}}const Ur=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:c}=t,l=await zr(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},Yr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:w=>{let{x,y:E}=w;return{x,y:E}}},...l}=Rt(e,t),u={x:n,y:r},g=await jn(t,l),a=We(De(o)),h=_n(a);let d=u[h],m=u[a];if(i){const w=h==="y"?"top":"left",x=h==="y"?"bottom":"right",E=d+g[w],y=d-g[x];d=nn(E,d,y)}if(s){const w=a==="y"?"top":"left",x=a==="y"?"bottom":"right",E=m+g[w],y=m-g[x];m=nn(E,m,y)}const p=c.fn({...t,[h]:d,[a]:m});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:i,[a]:s}}}}}};function qn(e){const t=me(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ne(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=lt(n)!==i||lt(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function Yt(e){return G(e)?e:e.contextElement}function Ve(e){const t=Yt(e);if(!ne(t))return ve(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=qn(t);let s=(i?lt(n.width):n.width)/r,c=(i?lt(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const Xr=ve(0);function zn(e){const t=fe(e);return!xt()||!t.visualViewport?Xr:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Gr(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==fe(e)?!1:t}function Fe(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Yt(e);let s=ve(1);t&&(r?G(r)&&(s=Ve(r)):s=Ve(e));const c=Gr(i,n,r)?zn(i):ve(0);let l=(o.left+c.x)/s.x,u=(o.top+c.y)/s.y,g=o.width/s.x,a=o.height/s.y;if(i){const h=fe(i),d=r&&G(r)?fe(r):r;let m=h,p=Bt(m);for(;p&&r&&d!==m;){const w=Ve(p),x=p.getBoundingClientRect(),E=me(p),y=x.left+(p.clientLeft+parseFloat(E.paddingLeft))*w.x,I=x.top+(p.clientTop+parseFloat(E.paddingTop))*w.y;l*=w.x,u*=w.y,g*=w.x,a*=w.y,l+=y,u+=I,m=fe(p),p=Bt(m)}}return ft({width:g,height:a,x:l,y:u})}function Xt(e,t){const n=wt(e).scrollLeft;return t?t.left+n:Fe(be(e)).left+n}function Un(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Xt(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function Zr(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=be(r),c=t?yt(t.floating):!1;if(r===s||c&&i)return n;let l={scrollLeft:0,scrollTop:0},u=ve(1);const g=ve(0),a=ne(r);if((a||!a&&!i)&&((Se(r)!=="body"||Qe(s))&&(l=wt(r)),ne(r))){const d=Fe(r);u=Ve(r),g.x=d.x+r.clientLeft,g.y=d.y+r.clientTop}const h=s&&!a&&!i?Un(s,l,!0):ve(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+g.x+h.x,y:n.y*u.y-l.scrollTop*u.y+g.y+h.y}}function Jr(e){return Array.from(e.getClientRects())}function Qr(e){const t=be(e),n=wt(e),r=e.ownerDocument.body,o=ke(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ke(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Xt(e);const c=-n.scrollTop;return me(r).direction==="rtl"&&(s+=ke(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}function eo(e,t){const n=fe(e),r=be(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,l=0;if(o){i=o.width,s=o.height;const u=xt();(!u||u&&t==="fixed")&&(c=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:c,y:l}}function to(e,t){const n=Fe(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=ne(e)?Ve(e):ve(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,l=o*i.x,u=r*i.y;return{width:s,height:c,x:l,y:u}}function sn(e,t,n){let r;if(t==="viewport")r=eo(e,n);else if(t==="document")r=Qr(be(e));else if(G(t))r=to(t,n);else{const o=zn(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ft(r)}function Yn(e,t){const n=xe(e);return n===t||!G(n)||Oe(n)?!1:me(n).position==="fixed"||Yn(n,t)}function no(e,t){const n=t.get(e);if(n)return n;let r=Ie(e,[],!1).filter(c=>G(c)&&Se(c)!=="body"),o=null;const i=me(e).position==="fixed";let s=i?xe(e):e;for(;G(s)&&!Oe(s);){const c=me(s),l=jt(s);!l&&c.position==="fixed"&&(o=null),(i?!l&&!o:!l&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Qe(s)&&!l&&Yn(e,s))?r=r.filter(g=>g!==s):o=c,s=xe(s)}return t.set(e,r),r}function ro(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?yt(t)?[]:no(t,this._c):[].concat(n),r],c=s[0],l=s.reduce((u,g)=>{const a=sn(t,g,o);return u.top=ke(a.top,u.top),u.right=ut(a.right,u.right),u.bottom=ut(a.bottom,u.bottom),u.left=ke(a.left,u.left),u},sn(t,c,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function oo(e){const{width:t,height:n}=qn(e);return{width:t,height:n}}function io(e,t,n){const r=ne(t),o=be(t),i=n==="fixed",s=Fe(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=ve(0);if(r||!r&&!i)if((Se(t)!=="body"||Qe(o))&&(c=wt(t)),r){const h=Fe(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=Xt(o));const u=o&&!r&&!i?Un(o,c):ve(0),g=s.left+c.scrollLeft-l.x-u.x,a=s.top+c.scrollTop-l.y-u.y;return{x:g,y:a,width:s.width,height:s.height}}function Mt(e){return me(e).position==="static"}function cn(e,t){if(!ne(e)||me(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return be(e)===n&&(n=n.ownerDocument.body),n}function Xn(e,t){const n=fe(e);if(yt(e))return n;if(!ne(e)){let o=xe(e);for(;o&&!Oe(o);){if(G(o)&&!Mt(o))return o;o=xe(o)}return n}let r=cn(e,t);for(;r&&fr(r)&&Mt(r);)r=cn(r,t);return r&&Oe(r)&&Mt(r)&&!jt(r)?n:r||dr(e)||n}const so=async function(e){const t=this.getOffsetParent||Xn,n=this.getDimensions,r=await n(e.floating);return{reference:io(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function co(e){return me(e).direction==="rtl"}const uo={convertOffsetParentRelativeRectToViewportRelativeRect:Zr,getDocumentElement:be,getClippingRect:ro,getOffsetParent:Xn,getElementRects:so,getClientRects:Jr,getDimensions:oo,getScale:Ve,isElement:G,isRTL:co};function lo(e,t){let n=null,r;const o=be(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function s(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const{left:u,top:g,width:a,height:h}=e.getBoundingClientRect();if(c||t(),!a||!h)return;const d=Ke(g),m=Ke(o.clientWidth-(u+a)),p=Ke(o.clientHeight-(g+h)),w=Ke(u),E={rootMargin:-d+"px "+-m+"px "+-p+"px "+-w+"px",threshold:ke(0,ut(1,l))||1};let y=!0;function I(k){const L=k[0].intersectionRatio;if(L!==l){if(!y)return s();L?s(!1,L):r=setTimeout(()=>{s(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(I,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(I,E)}n.observe(e)}return s(!0),i}function zo(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Yt(e),g=o||i?[...u?Ie(u):[],...Ie(t)]:[];g.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const a=u&&c?lo(u,n):null;let h=-1,d=null;s&&(d=new ResizeObserver(x=>{let[E]=x;E&&E.target===u&&d&&(d.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=d)==null||y.observe(t)})),n()}),u&&!l&&d.observe(u),d.observe(t));let m,p=l?Fe(e):null;l&&w();function w(){const x=Fe(e);p&&(x.x!==p.x||x.y!==p.y||x.width!==p.width||x.height!==p.height)&&n(),p=x,m=requestAnimationFrame(w)}return n(),()=>{var x;g.forEach(E=>{o&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),a==null||a(),(x=d)==null||x.disconnect(),d=null,l&&cancelAnimationFrame(m)}}const ao=Ur,fo=Yr,mo=qr,go=(e,t,n)=>{const r=new Map,o={platform:uo,...n},i={...o.platform,_c:r};return jr(e,t,{...o,platform:i})};var st=typeof document<"u"?f.useLayoutEffect:f.useEffect;function pt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!pt(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!pt(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Gn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function un(e,t){const n=Gn(e);return Math.round(t*n)/n}function At(e){const t=f.useRef(e);return st(()=>{t.current=e}),t}function po(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[g,a]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,d]=f.useState(r);pt(h,r)||d(r);const[m,p]=f.useState(null),[w,x]=f.useState(null),E=f.useCallback(C=>{C!==L.current&&(L.current=C,p(C))},[]),y=f.useCallback(C=>{C!==H.current&&(H.current=C,x(C))},[]),I=i||m,k=s||w,L=f.useRef(null),H=f.useRef(null),q=f.useRef(g),W=l!=null,P=At(l),j=At(o),O=At(u),M=f.useCallback(()=>{if(!L.current||!H.current)return;const C={placement:t,strategy:n,middleware:h};j.current&&(C.platform=j.current),go(L.current,H.current,C).then(v=>{const A={...v,isPositioned:O.current!==!1};T.current&&!pt(q.current,A)&&(q.current=A,An.flushSync(()=>{a(A)}))})},[h,t,n,j,O]);st(()=>{u===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,a(C=>({...C,isPositioned:!1})))},[u]);const T=f.useRef(!1);st(()=>(T.current=!0,()=>{T.current=!1}),[]),st(()=>{if(I&&(L.current=I),k&&(H.current=k),I&&k){if(P.current)return P.current(I,k,M);M()}},[I,k,M,P,W]);const S=f.useMemo(()=>({reference:L,floating:H,setReference:E,setFloating:y}),[E,y]),b=f.useMemo(()=>({reference:I,floating:k}),[I,k]),R=f.useMemo(()=>{const C={position:n,left:0,top:0};if(!b.floating)return C;const v=un(b.floating,g.x),A=un(b.floating,g.y);return c?{...C,transform:"translate("+v+"px, "+A+"px)",...Gn(b.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:v,top:A}},[n,c,b.floating,g.x,g.y]);return f.useMemo(()=>({...g,update:M,refs:S,elements:b,floatingStyles:R}),[g,M,S,b,R])}const Uo=(e,t)=>({...ao(e),options:[e,t]}),Yo=(e,t)=>({...fo(e),options:[e,t]}),Xo=(e,t)=>({...mo(e),options:[e,t]});function Go(e){return f.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const Zn={...ar},ho=Zn.useInsertionEffect,vo=ho||(e=>e());function se(e){const t=f.useRef(()=>{});return vo(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const Gt="ArrowUp",et="ArrowDown",He="ArrowLeft",je="ArrowRight";function rt(e,t,n){return Math.floor(e/t)!==n}function Xe(e,t){return t<0||t>=e.current.length}function Pt(e,t){return ue(e,{disabledIndices:t})}function ln(e,t){return ue(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ue(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const s=e.current;let c=n;do c+=r?-i:i;while(c>=0&&c<=s.length-1&&ct(s,c,o));return c}function bo(e,t){let{event:n,orientation:r,loop:o,cols:i,disabledIndices:s,minIndex:c,maxIndex:l,prevIndex:u,stopEvent:g=!1}=t,a=u;if(n.key===Gt){if(g&&oe(n),u===-1)a=l;else if(a=ue(e,{startingIndex:a,amount:i,decrement:!0,disabledIndices:s}),o&&(u-i<c||a<0)){const h=u%i,d=l%i,m=l-(d-h);d===h?a=l:a=d>h?m:m-i}Xe(e,a)&&(a=u)}if(n.key===et&&(g&&oe(n),u===-1?a=c:(a=ue(e,{startingIndex:u,amount:i,disabledIndices:s}),o&&u+i>l&&(a=ue(e,{startingIndex:u%i-i,amount:i,disabledIndices:s}))),Xe(e,a)&&(a=u)),r==="both"){const h=Ke(u/i);n.key===je&&(g&&oe(n),u%i!==i-1?(a=ue(e,{startingIndex:u,disabledIndices:s}),o&&rt(a,i,h)&&(a=ue(e,{startingIndex:u-u%i-1,disabledIndices:s}))):o&&(a=ue(e,{startingIndex:u-u%i-1,disabledIndices:s})),rt(a,i,h)&&(a=u)),n.key===He&&(g&&oe(n),u%i!==0?(a=ue(e,{startingIndex:u,decrement:!0,disabledIndices:s}),o&&rt(a,i,h)&&(a=ue(e,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:s}))):o&&(a=ue(e,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:s})),rt(a,i,h)&&(a=u));const d=Ke(l/i)===h;Xe(e,a)&&(o&&d?a=n.key===He?l:ue(e,{startingIndex:u-u%i-1,disabledIndices:s}):a=u)}return a}function yo(e,t,n){const r=[];let o=0;return e.forEach((i,s)=>{let{width:c,height:l}=i,u=!1;for(n&&(o=0);!u;){const g=[];for(let a=0;a<c;a++)for(let h=0;h<l;h++)g.push(o+a+h*t);o%t+c<=t&&g.every(a=>r[a]==null)?(g.forEach(a=>{r[a]=s}),u=!0):o++}}),[...r]}function xo(e,t,n,r,o){if(e===-1)return-1;const i=n.indexOf(e),s=t[e];switch(o){case"tl":return i;case"tr":return s?i+s.width-1:i;case"bl":return s?i+(s.height-1)*r:i;case"br":return n.lastIndexOf(e)}}function wo(e,t){return t.flatMap((n,r)=>e.includes(n)?[r]:[])}function ct(e,t,n){if(n)return n.includes(t);const r=e[t];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}let an=0;function Ce(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(an);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():an=requestAnimationFrame(i)}var Y=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Ro(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}function Eo(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}const Jn=f.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function Zo(e){const{children:t,elementsRef:n,labelsRef:r}=e,[o,i]=f.useState(()=>new Map),s=f.useCallback(l=>{i(u=>new Map(u).set(l,null))},[]),c=f.useCallback(l=>{i(u=>{const g=new Map(u);return g.delete(l),g})},[]);return Y(()=>{const l=new Map(o);Array.from(l.keys()).sort(Ro).forEach((g,a)=>{l.set(g,a)}),Eo(o,l)||i(l)},[o]),f.createElement(Jn.Provider,{value:f.useMemo(()=>({register:s,unregister:c,map:o,elementsRef:n,labelsRef:r}),[s,c,o,n,r])},t)}function Jo(e){e===void 0&&(e={});const{label:t}=e,{register:n,unregister:r,map:o,elementsRef:i,labelsRef:s}=f.useContext(Jn),[c,l]=f.useState(null),u=f.useRef(null),g=f.useCallback(a=>{if(u.current=a,c!==null&&(i.current[c]=a,s)){var h;const d=t!==void 0;s.current[c]=d?t:(h=a==null?void 0:a.textContent)!=null?h:null}},[c,i,s,t]);return Y(()=>{const a=u.current;if(a)return n(a),()=>{r(a)}},[n,r]),Y(()=>{const a=u.current?o.get(u.current):null;a!=null&&l(a)},[o]),f.useMemo(()=>({ref:g,index:c??-1}),[c,g])}function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(this,arguments)}let fn=!1,To=0;const dn=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+To++;function Co(){const[e,t]=f.useState(()=>fn?dn():void 0);return Y(()=>{e==null&&t(dn())},[]),f.useEffect(()=>{fn=!0},[]),e}const Io=Zn.useId,Ct=Io||Co;function Qn(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const er=f.createContext(null),tr=f.createContext(null),qe=()=>{var e;return((e=f.useContext(er))==null?void 0:e.id)||null},ze=()=>f.useContext(tr);function Qo(e){const t=Ct(),n=ze(),o=qe();return Y(()=>{const i={id:t,parentId:o};return n==null||n.addNode(i),()=>{n==null||n.removeNode(i)}},[n,t,o]),t}function ei(e){const{children:t,id:n}=e,r=qe();return f.createElement(er.Provider,{value:f.useMemo(()=>({id:n,parentId:r}),[n,r])},t)}function ti(e){const{children:t}=e,n=f.useRef([]),r=f.useCallback(s=>{n.current=[...n.current,s]},[]),o=f.useCallback(s=>{n.current=n.current.filter(c=>c!==s)},[]),i=f.useState(()=>Qn())[0];return f.createElement(tr.Provider,{value:f.useMemo(()=>({nodesRef:n,addNode:r,removeNode:o,events:i}),[r,o,i])},t)}function Ne(e){return"data-floating-ui-"+e}function ce(e){const t=f.useRef(e);return Y(()=>{t.current=e}),t}const mn=Ne("safe-polygon");function kt(e,t,n){return n&&!Ze(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function ni(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:s}=e,{enabled:c=!0,delay:l=0,handleClose:u=null,mouseOnly:g=!1,restMs:a=0,move:h=!0}=t,d=ze(),m=qe(),p=ce(u),w=ce(l),x=ce(n),E=f.useRef(),y=f.useRef(-1),I=f.useRef(),k=f.useRef(-1),L=f.useRef(!0),H=f.useRef(!1),q=f.useRef(()=>{}),W=f.useRef(!1),P=f.useCallback(()=>{var b;const R=(b=o.current.openEvent)==null?void 0:b.type;return(R==null?void 0:R.includes("mouse"))&&R!=="mousedown"},[o]);f.useEffect(()=>{if(!c)return;function b(R){let{open:C}=R;C||(clearTimeout(y.current),clearTimeout(k.current),L.current=!0,W.current=!1)}return i.on("openchange",b),()=>{i.off("openchange",b)}},[c,i]),f.useEffect(()=>{if(!c||!p.current||!n)return;function b(C){P()&&r(!1,C,"hover")}const R=ie(s.floating).documentElement;return R.addEventListener("mouseleave",b),()=>{R.removeEventListener("mouseleave",b)}},[s.floating,n,r,c,p,P]);const j=f.useCallback(function(b,R,C){R===void 0&&(R=!0),C===void 0&&(C="hover");const v=kt(w.current,"close",E.current);v&&!I.current?(clearTimeout(y.current),y.current=window.setTimeout(()=>r(!1,b,C),v)):R&&(clearTimeout(y.current),r(!1,b,C))},[w,r]),O=se(()=>{q.current(),I.current=void 0}),M=se(()=>{if(H.current){const b=ie(s.floating).body;b.style.pointerEvents="",b.removeAttribute(mn),H.current=!1}});f.useEffect(()=>{if(!c)return;function b(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function R(D){if(clearTimeout(y.current),L.current=!1,g&&!Ze(E.current)||a>0&&!kt(w.current,"open"))return;const U=kt(w.current,"open",E.current);U?y.current=window.setTimeout(()=>{x.current||r(!0,D,"hover")},U):r(!0,D,"hover")}function C(D){if(b())return;q.current();const U=ie(s.floating);if(clearTimeout(k.current),W.current=!1,p.current&&o.current.floatingContext){n||clearTimeout(y.current),I.current=p.current({...o.current.floatingContext,tree:d,x:D.clientX,y:D.clientY,onClose(){M(),O(),j(D,!0,"safe-polygon")}});const _=I.current;U.addEventListener("mousemove",_),q.current=()=>{U.removeEventListener("mousemove",_)};return}(E.current==="touch"?!te(s.floating,D.relatedTarget):!0)&&j(D)}function v(D){b()||o.current.floatingContext&&(p.current==null||p.current({...o.current.floatingContext,tree:d,x:D.clientX,y:D.clientY,onClose(){M(),O(),j(D)}})(D))}if(G(s.domReference)){var A;const D=s.domReference;return n&&D.addEventListener("mouseleave",v),(A=s.floating)==null||A.addEventListener("mouseleave",v),h&&D.addEventListener("mousemove",R,{once:!0}),D.addEventListener("mouseenter",R),D.addEventListener("mouseleave",C),()=>{var U;n&&D.removeEventListener("mouseleave",v),(U=s.floating)==null||U.removeEventListener("mouseleave",v),h&&D.removeEventListener("mousemove",R),D.removeEventListener("mouseenter",R),D.removeEventListener("mouseleave",C)}}},[s,c,e,g,a,h,j,O,M,r,n,x,d,w,p,o]),Y(()=>{var b;if(c&&n&&(b=p.current)!=null&&b.__options.blockPointerEvents&&P()){H.current=!0;const C=s.floating;if(G(s.domReference)&&C){var R;const v=ie(s.floating).body;v.setAttribute(mn,"");const A=s.domReference,D=d==null||(R=d.nodesRef.current.find(U=>U.id===m))==null||(R=R.context)==null?void 0:R.elements.floating;return D&&(D.style.pointerEvents=""),v.style.pointerEvents="none",A.style.pointerEvents="auto",C.style.pointerEvents="auto",()=>{v.style.pointerEvents="",A.style.pointerEvents="",C.style.pointerEvents=""}}}},[c,n,m,s,d,p,P]),Y(()=>{n||(E.current=void 0,W.current=!1,O(),M())},[n,O,M]),f.useEffect(()=>()=>{O(),clearTimeout(y.current),clearTimeout(k.current),M()},[c,s.domReference,O,M]);const T=f.useMemo(()=>{function b(R){E.current=R.pointerType}return{onPointerDown:b,onPointerEnter:b,onMouseMove(R){const{nativeEvent:C}=R;function v(){!L.current&&!x.current&&r(!0,C,"hover")}g&&!Ze(E.current)||n||a===0||W.current&&R.movementX**2+R.movementY**2<2||(clearTimeout(k.current),E.current==="touch"?v():(W.current=!0,k.current=window.setTimeout(v,a)))}}},[g,r,n,x,a]),S=f.useMemo(()=>({onMouseEnter(){clearTimeout(y.current)},onMouseLeave(b){j(b.nativeEvent,!1)}}),[j]);return f.useMemo(()=>c?{reference:T,floating:S}:{},[c,T,S])}function Oo(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Le(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function So(e,t){let n,r=-1;function o(i,s){s>r&&(n=i,r=s),Le(e,i).forEach(l=>{o(l.id,s+1)})}return o(t,0),e.find(i=>i.id===n)}let _e=new WeakMap,ot=new WeakSet,it={},Lt=0;const Mo=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,nr=e=>e&&(e.host||nr(e.parentNode)),Ao=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=nr(n);return e.contains(r)?r:null}).filter(n=>n!=null);function Po(e,t,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,s=Ao(t,e),c=new Set,l=new Set(s),u=[];it[o]||(it[o]=new WeakMap);const g=it[o];s.forEach(a),h(t),c.clear();function a(d){!d||c.has(d)||(c.add(d),d.parentNode&&a(d.parentNode))}function h(d){!d||l.has(d)||[].forEach.call(d.children,m=>{if(Se(m)!=="script")if(c.has(m))h(m);else{const p=i?m.getAttribute(i):null,w=p!==null&&p!=="false",x=(_e.get(m)||0)+1,E=(g.get(m)||0)+1;_e.set(m,x),g.set(m,E),u.push(m),x===1&&w&&ot.add(m),E===1&&m.setAttribute(o,""),!w&&i&&m.setAttribute(i,"true")}})}return Lt++,()=>{u.forEach(d=>{const m=(_e.get(d)||0)-1,p=(g.get(d)||0)-1;_e.set(d,m),g.set(d,p),m||(!ot.has(d)&&i&&d.removeAttribute(i),ot.delete(d)),p||d.removeAttribute(o)}),Lt--,Lt||(_e=new WeakMap,_e=new WeakMap,ot=new WeakSet,it={})}}function gn(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=ie(e[0]).body;return Po(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const Je=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function rr(e,t){const n=Tt(e,Je());t==="prev"&&n.reverse();const r=n.indexOf(ge(ie(e)));return n.slice(r+1)[0]}function or(){return rr(document.body,"next")}function ir(){return rr(document.body,"prev")}function Ge(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!te(n,r)}function ko(e){Tt(e,Je()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function pn(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const It={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Lo;function hn(e){e.key==="Tab"&&(e.target,clearTimeout(Lo))}const vt=f.forwardRef(function(t,n){const[r,o]=f.useState();Y(()=>(zt()&&o("button"),document.addEventListener("keydown",hn),()=>{document.removeEventListener("keydown",hn)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Ne("focus-guard")]:"",style:It};return f.createElement("span",ht({},t,i))}),sr=f.createContext(null),vn=Ne("portal");function Do(e){e===void 0&&(e={});const{id:t,root:n}=e,r=Ct(),o=cr(),[i,s]=f.useState(null),c=f.useRef(null);return Y(()=>()=>{i==null||i.remove(),queueMicrotask(()=>{c.current=null})},[i]),Y(()=>{if(!r||c.current)return;const l=t?document.getElementById(t):null;if(!l)return;const u=document.createElement("div");u.id=r,u.setAttribute(vn,""),l.appendChild(u),c.current=u,s(u)},[t,r]),Y(()=>{if(n===null||!r||c.current)return;let l=n||(o==null?void 0:o.portalNode);l&&!G(l)&&(l=l.current),l=l||document.body;let u=null;t&&(u=document.createElement("div"),u.id=t,l.appendChild(u));const g=document.createElement("div");g.id=r,g.setAttribute(vn,""),l=u||l,l.appendChild(g),c.current=g,s(g)},[t,n,r,o]),i}function ri(e){const{children:t,id:n,root:r,preserveTabOrder:o=!0}=e,i=Do({id:n,root:r}),[s,c]=f.useState(null),l=f.useRef(null),u=f.useRef(null),g=f.useRef(null),a=f.useRef(null),h=s==null?void 0:s.modal,d=s==null?void 0:s.open,m=!!s&&!s.modal&&s.open&&o&&!!(r||i);return f.useEffect(()=>{if(!i||!o||h)return;function p(w){i&&Ge(w)&&(w.type==="focusin"?pn:ko)(i)}return i.addEventListener("focusin",p,!0),i.addEventListener("focusout",p,!0),()=>{i.removeEventListener("focusin",p,!0),i.removeEventListener("focusout",p,!0)}},[i,o,h]),f.useEffect(()=>{i&&(d||pn(i))},[d,i]),f.createElement(sr.Provider,{value:f.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:l,afterOutsideRef:u,beforeInsideRef:g,afterInsideRef:a,portalNode:i,setFocusManagerState:c}),[o,i])},m&&i&&f.createElement(vt,{"data-type":"outside",ref:l,onFocus:p=>{if(Ge(p,i)){var w;(w=g.current)==null||w.focus()}else{const x=ir()||(s==null?void 0:s.refs.domReference.current);x==null||x.focus()}}}),m&&i&&f.createElement("span",{"aria-owns":i.id,style:It}),i&&An.createPortal(t,i),m&&i&&f.createElement(vt,{"data-type":"outside",ref:u,onFocus:p=>{if(Ge(p,i)){var w;(w=a.current)==null||w.focus()}else{const x=or()||(s==null?void 0:s.refs.domReference.current);x==null||x.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,p.nativeEvent,"focus-out"))}}}))}const cr=()=>f.useContext(sr),Ht="data-floating-ui-focusable";function ur(e){return e?e.hasAttribute(Ht)?e:e.querySelector("["+Ht+"]")||e:null}const bn=20;let Pe=[];function Dt(e){Pe=Pe.filter(n=>n.isConnected);let t=e;if(!(!t||Se(t)==="body")){if(!Hr(t,Je())){const n=Tt(t,Je())[0];n&&(t=n)}Pe.push(t),Pe.length>bn&&(Pe=Pe.slice(-bn))}}function yn(){return Pe.slice().reverse().find(e=>e.isConnected)}const Fo=f.forwardRef(function(t,n){return f.createElement("button",ht({},t,{type:"button",ref:n,tabIndex:-1,style:It}))});function oi(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:c=!0,restoreFocus:l=!1,modal:u=!0,visuallyHiddenDismiss:g=!1,closeOnFocusOut:a=!0}=e,{open:h,refs:d,nodeId:m,onOpenChange:p,events:w,dataRef:x,floatingId:E,elements:{domReference:y,floating:I}}=t,k=typeof s=="number"&&s<0,L=Vt(y)&&k,H=Mo()?i:!0,q=ce(o),W=ce(s),P=ce(c),j=ze(),O=cr(),M=f.useRef(null),T=f.useRef(null),S=f.useRef(!1),b=f.useRef(!1),R=f.useRef(-1),C=O!=null,v=ur(I),A=se(function(_){return _===void 0&&(_=v),_?Tt(_,Je()):[]}),D=se(_=>{const V=A(_);return q.current.map(F=>y&&F==="reference"?y:v&&F==="floating"?v:V).filter(Boolean).flat()});f.useEffect(()=>{S.current=!1},[r]),f.useEffect(()=>{if(r||!u)return;function _(F){if(F.key==="Tab"){te(v,ge(ie(v)))&&A().length===0&&!L&&oe(F);const K=D(),N=ye(F);q.current[0]==="reference"&&N===y&&(oe(F),F.shiftKey?Ce(K[K.length-1]):Ce(K[1])),q.current[1]==="floating"&&N===v&&F.shiftKey&&(oe(F),Ce(K[0]))}}const V=ie(v);return V.addEventListener("keydown",_),()=>{V.removeEventListener("keydown",_)}},[r,y,v,u,q,L,A,D]),f.useEffect(()=>{if(r||!I)return;function _(V){const F=ye(V),N=A().indexOf(F);N!==-1&&(R.current=N)}return I.addEventListener("focusin",_),()=>{I.removeEventListener("focusin",_)}},[r,I,A]),f.useEffect(()=>{if(r||!a)return;function _(){b.current=!0,setTimeout(()=>{b.current=!1})}function V(F){const K=F.relatedTarget;queueMicrotask(()=>{const N=!(te(y,K)||te(I,K)||te(K,I)||te(O==null?void 0:O.portalNode,K)||K!=null&&K.hasAttribute(Ne("focus-guard"))||j&&(Le(j.nodesRef.current,m).find(z=>{var X,ee;return te((X=z.context)==null?void 0:X.elements.floating,K)||te((ee=z.context)==null?void 0:ee.elements.domReference,K)})||Oo(j.nodesRef.current,m).find(z=>{var X,ee;return((X=z.context)==null?void 0:X.elements.floating)===K||((ee=z.context)==null?void 0:ee.elements.domReference)===K})));if(l&&N&&ge(ie(v))===ie(v).body){ne(v)&&v.focus();const z=R.current,X=A(),ee=X[z]||X[X.length-1]||v;ne(ee)&&ee.focus()}(L||!u)&&K&&N&&!b.current&&K!==yn()&&(S.current=!0,p(!1,F,"focus-out"))})}if(I&&ne(y))return y.addEventListener("focusout",V),y.addEventListener("pointerdown",_),I.addEventListener("focusout",V),()=>{y.removeEventListener("focusout",V),y.removeEventListener("pointerdown",_),I.removeEventListener("focusout",V)}},[r,y,I,v,u,m,j,O,p,a,l,A,L]),f.useEffect(()=>{var _;if(r)return;const V=Array.from((O==null||(_=O.portalNode)==null?void 0:_.querySelectorAll("["+Ne("portal")+"]"))||[]);if(I){const F=[I,...V,M.current,T.current,q.current.includes("reference")||L?y:null].filter(N=>N!=null),K=u||L?gn(F,H,!H):gn(F);return()=>{K()}}},[r,y,I,u,q,O,L,H]),Y(()=>{if(r||!ne(v))return;const _=ie(v),V=ge(_);queueMicrotask(()=>{const F=D(v),K=W.current,N=(typeof K=="number"?F[K]:K.current)||v,z=te(v,V);!k&&!z&&h&&Ce(N,{preventScroll:N===v})})},[r,h,v,k,D,W]),Y(()=>{if(r||!v)return;let _=!1;const V=ie(v),F=ge(V);let N=x.current.openEvent;Dt(F);function z(re){let{open:Me,reason:we,event:ae,nested:Re}=re;Me&&(N=ae),we==="escape-key"&&d.domReference.current&&Dt(d.domReference.current),we==="hover"&&ae.type==="mouseleave"&&(S.current=!0),we==="outside-press"&&(Re?(S.current=!1,_=!0):S.current=!(Fn(ae)||qt(ae)))}w.on("openchange",z);const X=V.createElement("span");X.setAttribute("tabindex","-1"),X.setAttribute("aria-hidden","true"),Object.assign(X.style,It),C&&y&&y.insertAdjacentElement("afterend",X);function ee(){return typeof P.current=="boolean"?yn()||X:P.current.current||X}return()=>{w.off("openchange",z);const re=ge(V),Me=te(I,re)||j&&Le(j.nodesRef.current,m).some(Re=>{var Ue;return te((Ue=Re.context)==null?void 0:Ue.elements.floating,re)});(Me||N&&["click","mousedown"].includes(N.type))&&d.domReference.current&&Dt(d.domReference.current);const ae=ee();queueMicrotask(()=>{P.current&&!S.current&&ne(ae)&&(!(ae!==re&&re!==V.body)||Me)&&ae.focus({preventScroll:_}),X.remove()})}},[r,I,v,P,x,d,w,j,m,C,y]),Y(()=>{if(!r&&O)return O.setFocusManagerState({modal:u,closeOnFocusOut:a,open:h,onOpenChange:p,refs:d}),()=>{O.setFocusManagerState(null)}},[r,O,u,h,p,d,a]),Y(()=>{if(r||!v||typeof MutationObserver!="function"||k)return;const _=()=>{const F=v.getAttribute("tabindex"),K=A(),N=ge(ie(I)),z=K.indexOf(N);z!==-1&&(R.current=z),q.current.includes("floating")||N!==d.domReference.current&&K.length===0?F!=="0"&&v.setAttribute("tabindex","0"):F!=="-1"&&v.setAttribute("tabindex","-1")};_();const V=new MutationObserver(_);return V.observe(v,{childList:!0,subtree:!0,attributes:!0}),()=>{V.disconnect()}},[r,I,v,d,q,A,k]);function U(_){return r||!g||!u?null:f.createElement(Fo,{ref:_==="start"?M:T,onClick:V=>p(!1,V.nativeEvent)},typeof g=="string"?g:"Dismiss")}const le=!r&&H&&(u?!L:!0)&&(C||u);return f.createElement(f.Fragment,null,le&&f.createElement(vt,{"data-type":"inside",ref:O==null?void 0:O.beforeInsideRef,onFocus:_=>{if(u){const F=D();Ce(o[0]==="reference"?F[0]:F[F.length-1])}else if(O!=null&&O.preserveTabOrder&&O.portalNode)if(S.current=!1,Ge(_,O.portalNode)){const F=or()||y;F==null||F.focus()}else{var V;(V=O.beforeOutsideRef.current)==null||V.focus()}}}),!L&&U("start"),n,U("end"),le&&f.createElement(vt,{"data-type":"inside",ref:O==null?void 0:O.afterInsideRef,onFocus:_=>{if(u)Ce(D()[0]);else if(O!=null&&O.preserveTabOrder&&O.portalNode)if(a&&(S.current=!0),Ge(_,O.portalNode)){const F=ir()||y;F==null||F.focus()}else{var V;(V=O.afterOutsideRef.current)==null||V.focus()}}}))}function xn(e){return ne(e.target)&&e.target.tagName==="BUTTON"}function wn(e){return Ut(e)}function ii(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:c="click",toggle:l=!0,ignoreMouse:u=!1,keyboardHandlers:g=!0}=t,a=f.useRef(),h=f.useRef(!1),d=f.useMemo(()=>({onPointerDown(m){a.current=m.pointerType},onMouseDown(m){const p=a.current;m.button===0&&c!=="click"&&(Ze(p,!0)&&u||(n&&l&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,m.nativeEvent,"click"):(m.preventDefault(),r(!0,m.nativeEvent,"click"))))},onClick(m){const p=a.current;if(c==="mousedown"&&a.current){a.current=void 0;return}Ze(p,!0)&&u||(n&&l&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,m.nativeEvent,"click"):r(!0,m.nativeEvent,"click"))},onKeyDown(m){a.current=void 0,!(m.defaultPrevented||!g||xn(m))&&(m.key===" "&&!wn(i)&&(m.preventDefault(),h.current=!0),m.key==="Enter"&&r(!(n&&l),m.nativeEvent,"click"))},onKeyUp(m){m.defaultPrevented||!g||xn(m)||wn(i)||m.key===" "&&h.current&&(h.current=!1,r(!(n&&l),m.nativeEvent,"click"))}}),[o,i,c,u,g,r,n,l]);return f.useMemo(()=>s?{reference:d}:{},[s,d])}const No={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},_o={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Rn=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function si(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:i}=e,{enabled:s=!0,escapeKey:c=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:g=!1,referencePressEvent:a="pointerdown",ancestorScroll:h=!1,bubbles:d,capture:m}=t,p=ze(),w=se(typeof l=="function"?l:()=>!1),x=typeof l=="function"?w:l,E=f.useRef(!1),y=f.useRef(!1),{escapeKey:I,outsidePress:k}=Rn(d),{escapeKey:L,outsidePress:H}=Rn(m),q=f.useRef(!1),W=se(S=>{var b;if(!n||!s||!c||S.key!=="Escape"||q.current)return;const R=(b=i.current.floatingContext)==null?void 0:b.nodeId,C=p?Le(p.nodesRef.current,R):[];if(!I&&(S.stopPropagation(),C.length>0)){let v=!0;if(C.forEach(A=>{var D;if((D=A.context)!=null&&D.open&&!A.context.dataRef.current.__escapeKeyBubbles){v=!1;return}}),!v)return}r(!1,gr(S)?S.nativeEvent:S,"escape-key")}),P=se(S=>{var b;const R=()=>{var C;W(S),(C=ye(S))==null||C.removeEventListener("keydown",R)};(b=ye(S))==null||b.addEventListener("keydown",R)}),j=se(S=>{var b;const R=E.current;E.current=!1;const C=y.current;if(y.current=!1,u==="click"&&C||R||typeof x=="function"&&!x(S))return;const v=ye(S),A="["+Ne("inert")+"]",D=ie(o.floating).querySelectorAll(A);let U=G(v)?v:null;for(;U&&!Oe(U);){const F=xe(U);if(Oe(F)||!G(F))break;U=F}if(D.length&&G(v)&&!pr(v)&&!te(v,o.floating)&&Array.from(D).every(F=>!te(U,F)))return;if(ne(v)&&T){const F=v.clientWidth>0&&v.scrollWidth>v.clientWidth,K=v.clientHeight>0&&v.scrollHeight>v.clientHeight;let N=K&&S.offsetX>v.clientWidth;if(K&&me(v).direction==="rtl"&&(N=S.offsetX<=v.offsetWidth-v.clientWidth),N||F&&S.offsetY>v.clientHeight)return}const le=(b=i.current.floatingContext)==null?void 0:b.nodeId,_=p&&Le(p.nodesRef.current,le).some(F=>{var K;return St(S,(K=F.context)==null?void 0:K.elements.floating)});if(St(S,o.floating)||St(S,o.domReference)||_)return;const V=p?Le(p.nodesRef.current,le):[];if(V.length>0){let F=!0;if(V.forEach(K=>{var N;if((N=K.context)!=null&&N.open&&!K.context.dataRef.current.__outsidePressBubbles){F=!1;return}}),!F)return}r(!1,S,"outside-press")}),O=se(S=>{var b;const R=()=>{var C;j(S),(C=ye(S))==null||C.removeEventListener(u,R)};(b=ye(S))==null||b.addEventListener(u,R)});f.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=I,i.current.__outsidePressBubbles=k;let S=-1;function b(D){r(!1,D,"ancestor-scroll")}function R(){window.clearTimeout(S),q.current=!0}function C(){S=window.setTimeout(()=>{q.current=!1},xt()?5:0)}const v=ie(o.floating);c&&(v.addEventListener("keydown",L?P:W,L),v.addEventListener("compositionstart",R),v.addEventListener("compositionend",C)),x&&v.addEventListener(u,H?O:j,H);let A=[];return h&&(G(o.domReference)&&(A=Ie(o.domReference)),G(o.floating)&&(A=A.concat(Ie(o.floating))),!G(o.reference)&&o.reference&&o.reference.contextElement&&(A=A.concat(Ie(o.reference.contextElement)))),A=A.filter(D=>{var U;return D!==((U=v.defaultView)==null?void 0:U.visualViewport)}),A.forEach(D=>{D.addEventListener("scroll",b,{passive:!0})}),()=>{c&&(v.removeEventListener("keydown",L?P:W,L),v.removeEventListener("compositionstart",R),v.removeEventListener("compositionend",C)),x&&v.removeEventListener(u,H?O:j,H),A.forEach(D=>{D.removeEventListener("scroll",b)}),window.clearTimeout(S)}},[i,o,c,x,u,n,r,h,s,I,k,W,L,P,j,H,O]),f.useEffect(()=>{E.current=!1},[x,u]);const M=f.useMemo(()=>({onKeyDown:W,[No[a]]:S=>{g&&r(!1,S.nativeEvent,"reference-press")}}),[W,r,g,a]),T=f.useMemo(()=>({onKeyDown:W,onMouseDown(){y.current=!0},onMouseUp(){y.current=!0},[_o[u]]:()=>{E.current=!0}}),[W,u]);return f.useMemo(()=>s?{reference:M,floating:T}:{},[s,M,T])}function Bo(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Ct(),i=f.useRef({}),[s]=f.useState(()=>Qn()),c=qe()!=null,[l,u]=f.useState(r.reference),g=se((d,m,p)=>{i.current.openEvent=d?m:void 0,s.emit("openchange",{open:d,event:m,reason:p,nested:c}),n==null||n(d,m,p)}),a=f.useMemo(()=>({setPositionReference:u}),[]),h=f.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return f.useMemo(()=>({dataRef:i,open:t,onOpenChange:g,elements:h,events:s,floatingId:o,refs:a}),[t,g,h,s,o,a])}function ci(e){e===void 0&&(e={});const{nodeId:t}=e,n=Bo({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,s]=f.useState(null),[c,l]=f.useState(null),g=(o==null?void 0:o.domReference)||i,a=f.useRef(null),h=ze();Y(()=>{g&&(a.current=g)},[g]);const d=po({...e,elements:{...o,...c&&{reference:c}}}),m=f.useCallback(y=>{const I=G(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;l(I),d.refs.setReference(I)},[d.refs]),p=f.useCallback(y=>{(G(y)||y===null)&&(a.current=y,s(y)),(G(d.refs.reference.current)||d.refs.reference.current===null||y!==null&&!G(y))&&d.refs.setReference(y)},[d.refs]),w=f.useMemo(()=>({...d.refs,setReference:p,setPositionReference:m,domReference:a}),[d.refs,p,m]),x=f.useMemo(()=>({...d.elements,domReference:g}),[d.elements,g]),E=f.useMemo(()=>({...d,...r,refs:w,elements:x,nodeId:t}),[d,w,x,t,r]);return Y(()=>{r.dataRef.current.floatingContext=E;const y=h==null?void 0:h.nodesRef.current.find(I=>I.id===t);y&&(y.context=E)}),f.useMemo(()=>({...d,context:E,refs:w,elements:x}),[d,w,x,E])}function ui(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,dataRef:i,elements:s}=e,{enabled:c=!0,visibleOnly:l=!0}=t,u=f.useRef(!1),g=f.useRef(),a=f.useRef(!0);f.useEffect(()=>{if(!c)return;const d=fe(s.domReference);function m(){!n&&ne(s.domReference)&&s.domReference===ge(ie(s.domReference))&&(u.current=!0)}function p(){a.current=!0}return d.addEventListener("blur",m),d.addEventListener("keydown",p,!0),()=>{d.removeEventListener("blur",m),d.removeEventListener("keydown",p,!0)}},[s.domReference,n,c]),f.useEffect(()=>{if(!c)return;function d(m){let{reason:p}=m;(p==="reference-press"||p==="escape-key")&&(u.current=!0)}return o.on("openchange",d),()=>{o.off("openchange",d)}},[o,c]),f.useEffect(()=>()=>{clearTimeout(g.current)},[]);const h=f.useMemo(()=>({onPointerDown(d){qt(d.nativeEvent)||(a.current=!1)},onMouseLeave(){u.current=!1},onFocus(d){if(u.current)return;const m=ye(d.nativeEvent);if(l&&G(m))try{if(zt()&&Nn())throw Error();if(!m.matches(":focus-visible"))return}catch{if(!a.current&&!Ut(m))return}r(!0,d.nativeEvent,"focus")},onBlur(d){u.current=!1;const m=d.relatedTarget,p=d.nativeEvent,w=G(m)&&m.hasAttribute(Ne("focus-guard"))&&m.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var x;const E=ge(s.domReference?s.domReference.ownerDocument:document);!m&&E===s.domReference||te((x=i.current.floatingContext)==null?void 0:x.refs.floating.current,E)||te(s.domReference,E)||w||r(!1,p,"focus")})}}),[i,s.domReference,r,l]);return f.useMemo(()=>c?{reference:h}:{},[c,h])}const En="active",Tn="selected";function Ft(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[En]:s,[Tn]:c,...l}=e;i=l}return{...n==="floating"&&{tabIndex:-1,[Ht]:""},...i,...t.map(s=>{const c=s?s[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((s,c)=>(c&&Object.entries(c).forEach(l=>{let[u,g]=l;if(!(o&&[En,Tn].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof g=="function"){var a;(a=r.get(u))==null||a.push(g),s[u]=function(){for(var h,d=arguments.length,m=new Array(d),p=0;p<d;p++)m[p]=arguments[p];return(h=r.get(u))==null?void 0:h.map(w=>w(...m)).find(w=>w!==void 0)}}}else s[u]=g}),s),{})}}function li(e){e===void 0&&(e=[]);const t=e.map(c=>c==null?void 0:c.reference),n=e.map(c=>c==null?void 0:c.floating),r=e.map(c=>c==null?void 0:c.item),o=f.useCallback(c=>Ft(c,e,"reference"),t),i=f.useCallback(c=>Ft(c,e,"floating"),n),s=f.useCallback(c=>Ft(c,e,"item"),r);return f.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:s}),[o,i,s])}let Cn=!1;function Ot(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function In(e,t){return Ot(t,e===Gt||e===et,e===He||e===je)}function Nt(e,t,n){return Ot(t,e===et,n?e===He:e===je)||e==="Enter"||e===" "||e===""}function Ko(e,t,n){return Ot(t,n?e===He:e===je,e===et)}function On(e,t,n){return Ot(t,n?e===je:e===He,e===Gt)}function ai(e,t){const{open:n,onOpenChange:r,elements:o}=e,{listRef:i,activeIndex:s,onNavigate:c=()=>{},enabled:l=!0,selectedIndex:u=null,allowEscape:g=!1,loop:a=!1,nested:h=!1,rtl:d=!1,virtual:m=!1,focusItemOnOpen:p="auto",focusItemOnHover:w=!0,openOnArrowKeyDown:x=!0,disabledIndices:E=void 0,orientation:y="vertical",cols:I=1,scrollItemIntoView:k=!0,virtualItemRef:L,itemSizes:H,dense:q=!1}=t,W=ur(o.floating),P=ce(W),j=qe(),O=ze(),M=se(c),T=Vt(o.domReference),S=f.useRef(p),b=f.useRef(u??-1),R=f.useRef(null),C=f.useRef(!0),v=f.useRef(M),A=f.useRef(!!o.floating),D=f.useRef(n),U=f.useRef(!1),le=f.useRef(!1),_=ce(E),V=ce(n),F=ce(k),K=ce(u),[N,z]=f.useState(),[X,ee]=f.useState(),re=se(function($,J,B){B===void 0&&(B=!1);function Z(Q){m?(z(Q.id),O==null||O.events.emit("virtualfocus",Q),L&&(L.current=Q)):Ce(Q,{preventScroll:!0,sync:Nn()&&zt()?Cn||U.current:!1})}const de=$.current[J.current];de&&Z(de),requestAnimationFrame(()=>{const Q=$.current[J.current]||de;if(!Q)return;de||Z(Q);const pe=F.current;pe&&we&&(B||!C.current)&&(Q.scrollIntoView==null||Q.scrollIntoView(typeof pe=="boolean"?{block:"nearest",inline:"nearest"}:pe))})});Y(()=>{document.createElement("div").focus({get preventScroll(){return Cn=!0,!1}})},[]),Y(()=>{l&&(n&&o.floating?S.current&&u!=null&&(le.current=!0,b.current=u,M(u)):A.current&&(b.current=-1,v.current(null)))},[l,n,o.floating,u,M]),Y(()=>{if(l&&n&&o.floating)if(s==null){if(U.current=!1,K.current!=null)return;if(A.current&&(b.current=-1,re(i,b)),(!D.current||!A.current)&&S.current&&(R.current!=null||S.current===!0&&R.current==null)){let $=0;const J=()=>{i.current[0]==null?($<2&&($?requestAnimationFrame:queueMicrotask)(J),$++):(b.current=R.current==null||Nt(R.current,y,d)||h?Pt(i,_.current):ln(i,_.current),R.current=null,M(b.current))};J()}}else Xe(i,s)||(b.current=s,re(i,b,le.current),le.current=!1)},[l,n,o.floating,s,K,h,i,y,d,M,re,_]),Y(()=>{var $;if(!l||o.floating||!O||m||!A.current)return;const J=O.nodesRef.current,B=($=J.find(Q=>Q.id===j))==null||($=$.context)==null?void 0:$.elements.floating,Z=ge(ie(o.floating)),de=J.some(Q=>Q.context&&te(Q.context.elements.floating,Z));B&&!de&&C.current&&B.focus({preventScroll:!0})},[l,o.floating,O,j,m]),Y(()=>{if(!l||!O||!m||j)return;function $(J){ee(J.id),L&&(L.current=J)}return O.events.on("virtualfocus",$),()=>{O.events.off("virtualfocus",$)}},[l,O,m,j,L]),Y(()=>{v.current=M,A.current=!!o.floating}),Y(()=>{n||(R.current=null)},[n]),Y(()=>{D.current=n},[n]);const Me=s!=null,we=f.useMemo(()=>{function $(B){if(!n)return;const Z=i.current.indexOf(B);Z!==-1&&M(Z)}return{onFocus(B){let{currentTarget:Z}=B;$(Z)},onClick:B=>{let{currentTarget:Z}=B;return Z.focus({preventScroll:!0})},...w&&{onMouseMove(B){let{currentTarget:Z}=B;$(Z)},onPointerLeave(B){let{pointerType:Z}=B;!C.current||Z==="touch"||(b.current=-1,re(i,b),M(null),m||Ce(P.current,{preventScroll:!0}))}}}},[n,P,re,w,i,M,m]),ae=se($=>{if(C.current=!1,U.current=!0,$.which===229||!V.current&&$.currentTarget===P.current)return;if(h&&On($.key,y,d)){oe($),r(!1,$.nativeEvent,"list-navigation"),ne(o.domReference)&&(m?O==null||O.events.emit("virtualfocus",o.domReference):o.domReference.focus());return}const J=b.current,B=Pt(i,E),Z=ln(i,E);if(T||($.key==="Home"&&(oe($),b.current=B,M(b.current)),$.key==="End"&&(oe($),b.current=Z,M(b.current))),I>1){const de=H||Array.from({length:i.current.length},()=>({width:1,height:1})),Q=yo(de,I,q),pe=Q.findIndex(he=>he!=null&&!ct(i.current,he,E)),Ye=Q.reduce((he,Ee,tt)=>Ee!=null&&!ct(i.current,Ee,E)?tt:he,-1),Ae=Q[bo({current:Q.map(he=>he!=null?i.current[he]:null)},{event:$,orientation:y,loop:a,cols:I,disabledIndices:wo([...E||i.current.map((he,Ee)=>ct(i.current,Ee)?Ee:void 0),void 0],Q),minIndex:pe,maxIndex:Ye,prevIndex:xo(b.current>Z?B:b.current,de,Q,I,$.key===et?"bl":$.key===je?"tr":"tl"),stopEvent:!0})];if(Ae!=null&&(b.current=Ae,M(b.current)),y==="both")return}if(In($.key,y)){if(oe($),n&&!m&&ge($.currentTarget.ownerDocument)===$.currentTarget){b.current=Nt($.key,y,d)?B:Z,M(b.current);return}Nt($.key,y,d)?a?b.current=J>=Z?g&&J!==i.current.length?-1:B:ue(i,{startingIndex:J,disabledIndices:E}):b.current=Math.min(Z,ue(i,{startingIndex:J,disabledIndices:E})):a?b.current=J<=B?g&&J!==-1?i.current.length:Z:ue(i,{startingIndex:J,decrement:!0,disabledIndices:E}):b.current=Math.max(B,ue(i,{startingIndex:J,decrement:!0,disabledIndices:E})),Xe(i,b.current)?M(null):M(b.current)}}),Re=f.useMemo(()=>m&&n&&Me&&{"aria-activedescendant":X||N},[m,n,Me,X,N]),Ue=f.useMemo(()=>({"aria-orientation":y==="both"?void 0:y,...!Vt(o.domReference)&&Re,onKeyDown:ae,onPointerMove(){C.current=!0}}),[Re,ae,o.domReference,y]),Zt=f.useMemo(()=>{function $(B){p==="auto"&&Fn(B.nativeEvent)&&(S.current=!0)}function J(B){S.current=p,p==="auto"&&qt(B.nativeEvent)&&(S.current=!0)}return{...Re,onKeyDown(B){C.current=!1;const Z=B.key.startsWith("Arrow"),de=["Home","End"].includes(B.key),Q=Z||de,pe=Ko(B.key,y,d),Ye=On(B.key,y,d),Ae=In(B.key,y),he=(h?pe:Ae)||B.key==="Enter"||B.key.trim()==="";if(m&&n){const Qt=O==null?void 0:O.nodesRef.current.find(nt=>nt.parentId==null),Te=O&&Qt?So(O.nodesRef.current,Qt.id):null;if(Q&&Te&&L){const nt=new KeyboardEvent("keydown",{key:B.key,bubbles:!0});if(pe||Ye){var Ee,tt;const lr=((Ee=Te.context)==null?void 0:Ee.elements.domReference)===B.currentTarget,en=Ye&&!lr?(tt=Te.context)==null?void 0:tt.elements.domReference:pe?i.current.find(tn=>(tn==null?void 0:tn.id)===N):null;en&&(oe(B),en.dispatchEvent(nt),ee(void 0))}if((Ae||de)&&Te.context&&Te.context.open&&Te.parentId&&B.currentTarget!==Te.context.elements.domReference){var Jt;oe(B),(Jt=Te.context.elements.domReference)==null||Jt.dispatchEvent(nt);return}}return ae(B)}if(!(!n&&!x&&Z)){if(he&&(R.current=h&&Ae?null:B.key),h){pe&&(oe(B),n?(b.current=Pt(i,_.current),M(b.current)):r(!0,B.nativeEvent,"list-navigation"));return}Ae&&(u!=null&&(b.current=u),oe(B),!n&&x?r(!0,B.nativeEvent,"list-navigation"):ae(B),n&&M(b.current))}},onFocus(){n&&!m&&M(null)},onPointerDown:J,onMouseDown:$,onClick:$}},[N,Re,ae,_,p,i,h,M,r,n,x,y,d,u,O,m,L]);return f.useMemo(()=>l?{reference:Zt,floating:Ue,item:we}:{},[l,Zt,Ue,we])}const Vo=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function fi(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:i=!0,role:s="dialog"}=t,c=(n=Vo.get(s))!=null?n:s,l=Ct(),g=qe()!=null,a=f.useMemo(()=>c==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":c==="alertdialog"?"dialog":c,"aria-controls":r?o:void 0,...c==="listbox"&&{role:"combobox"},...c==="menu"&&{id:l},...c==="menu"&&g&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[c,o,g,r,l,s]),h=f.useMemo(()=>{const m={id:o,...c&&{role:c}};return c==="tooltip"||s==="label"?m:{...m,...c==="menu"&&{"aria-labelledby":l}}},[c,o,l,s]),d=f.useCallback(m=>{let{active:p,selected:w}=m;const x={role:"option",...p&&{id:o+"-option"}};switch(s){case"select":return{...x,"aria-selected":p&&w};case"combobox":return{...x,...p&&{"aria-selected":!0}}}return{}},[o,s]);return f.useMemo(()=>i?{reference:a,floating:h,item:d}:{},[i,a,h,d])}const Sn=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function Be(e,t){return typeof e=="function"?e(t):e}function Wo(e,t){const[n,r]=f.useState(e);return e&&!n&&r(!0),f.useEffect(()=>{if(!e&&n){const o=setTimeout(()=>r(!1),t);return()=>clearTimeout(o)}},[e,n,t]),n}function $o(e,t){t===void 0&&(t={});const{open:n,elements:{floating:r}}=e,{duration:o=250}=t,s=(typeof o=="number"?o:o.close)||0,[c,l]=f.useState("unmounted"),u=Wo(n,s);return!u&&c==="close"&&l("unmounted"),Y(()=>{if(r){if(n){l("initial");const g=requestAnimationFrame(()=>{l("open")});return()=>{cancelAnimationFrame(g)}}l("close")}},[n,r]),{isMounted:u,status:c}}function di(e,t){t===void 0&&(t={});const{initial:n={opacity:0},open:r,close:o,common:i,duration:s=250}=t,c=e.placement,l=c.split("-")[0],u=f.useMemo(()=>({side:l,placement:c}),[l,c]),g=typeof s=="number",a=(g?s:s.open)||0,h=(g?s:s.close)||0,[d,m]=f.useState(()=>({...Be(i,u),...Be(n,u)})),{isMounted:p,status:w}=$o(e,{duration:s}),x=ce(n),E=ce(r),y=ce(o),I=ce(i);return Y(()=>{const k=Be(x.current,u),L=Be(y.current,u),H=Be(I.current,u),q=Be(E.current,u)||Object.keys(k).reduce((W,P)=>(W[P]="",W),{});if(w==="initial"&&m(W=>({transitionProperty:W.transitionProperty,...H,...k})),w==="open"&&m({transitionProperty:Object.keys(q).map(Sn).join(","),transitionDuration:a+"ms",...H,...q}),w==="close"){const W=L||k;m({transitionProperty:Object.keys(W).map(Sn).join(","),transitionDuration:h+"ms",...H,...W})}},[h,y,x,E,I,a,w,u]),{isMounted:p,styles:d}}function mi(e,t){var n;const{open:r,dataRef:o}=e,{listRef:i,activeIndex:s,onMatch:c,onTypingChange:l,enabled:u=!0,findMatch:g=null,resetMs:a=750,ignoreKeys:h=[],selectedIndex:d=null}=t,m=f.useRef(),p=f.useRef(""),w=f.useRef((n=d??s)!=null?n:-1),x=f.useRef(null),E=se(c),y=se(l),I=ce(g),k=ce(h);Y(()=>{r&&(clearTimeout(m.current),x.current=null,p.current="")},[r]),Y(()=>{if(r&&p.current===""){var P;w.current=(P=d??s)!=null?P:-1}},[r,d,s]);const L=se(P=>{P?o.current.typing||(o.current.typing=P,y(P)):o.current.typing&&(o.current.typing=P,y(P))}),H=se(P=>{function j(b,R,C){const v=I.current?I.current(R,C):R.find(A=>(A==null?void 0:A.toLocaleLowerCase().indexOf(C.toLocaleLowerCase()))===0);return v?b.indexOf(v):-1}const O=i.current;if(p.current.length>0&&p.current[0]!==" "&&(j(O,O,p.current)===-1?L(!1):P.key===" "&&oe(P)),O==null||k.current.includes(P.key)||P.key.length!==1||P.ctrlKey||P.metaKey||P.altKey)return;r&&P.key!==" "&&(oe(P),L(!0)),O.every(b=>{var R,C;return b?((R=b[0])==null?void 0:R.toLocaleLowerCase())!==((C=b[1])==null?void 0:C.toLocaleLowerCase()):!0})&&p.current===P.key&&(p.current="",w.current=x.current),p.current+=P.key,clearTimeout(m.current),m.current=setTimeout(()=>{p.current="",w.current=x.current,L(!1)},a);const T=w.current,S=j(O,[...O.slice((T||0)+1),...O.slice(0,(T||0)+1)],p.current);S!==-1?(E(S),x.current=S):P.key!==" "&&(p.current="",L(!1))}),q=f.useMemo(()=>({onKeyDown:H}),[H]),W=f.useMemo(()=>({onKeyDown:H,onKeyUp(P){P.key===" "&&L(!1)}}),[H,L]);return f.useMemo(()=>u?{reference:q,floating:W}:{},[u,q,W])}function Mn(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,c=i-1;s<i;c=s++){const[l,u]=t[s]||[0,0],[g,a]=t[c]||[0,0];u>=r!=a>=r&&n<=(g-l)*(r-u)/(a-u)+l&&(o=!o)}return o}function Ho(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function gi(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,s=null,c=null,l=performance.now();function u(a,h){const d=performance.now(),m=d-l;if(s===null||c===null||m===0)return s=a,c=h,l=d,null;const p=a-s,w=h-c,E=Math.sqrt(p*p+w*w)/m;return s=a,c=h,l=d,E}const g=a=>{let{x:h,y:d,placement:m,elements:p,onClose:w,nodeId:x,tree:E}=a;return function(I){function k(){clearTimeout(o),w()}if(clearTimeout(o),!p.domReference||!p.floating||m==null||h==null||d==null)return;const{clientX:L,clientY:H}=I,q=[L,H],W=ye(I),P=I.type==="mouseleave",j=te(p.floating,W),O=te(p.domReference,W),M=p.domReference.getBoundingClientRect(),T=p.floating.getBoundingClientRect(),S=m.split("-")[0],b=h>T.right-T.width/2,R=d>T.bottom-T.height/2,C=Ho(q,M),v=T.width>M.width,A=T.height>M.height,D=(v?M:T).left,U=(v?M:T).right,le=(A?M:T).top,_=(A?M:T).bottom;if(j&&(i=!0,!P))return;if(O&&(i=!1),O&&!P){i=!0;return}if(P&&G(I.relatedTarget)&&te(p.floating,I.relatedTarget)||E&&Le(E.nodesRef.current,x).some(K=>{let{context:N}=K;return N==null?void 0:N.open}))return;if(S==="top"&&d>=M.bottom-1||S==="bottom"&&d<=M.top+1||S==="left"&&h>=M.right-1||S==="right"&&h<=M.left+1)return k();let V=[];switch(S){case"top":V=[[D,M.top+1],[D,T.bottom-1],[U,T.bottom-1],[U,M.top+1]];break;case"bottom":V=[[D,T.top+1],[D,M.bottom-1],[U,M.bottom-1],[U,T.top+1]];break;case"left":V=[[T.right-1,_],[T.right-1,le],[M.left+1,le],[M.left+1,_]];break;case"right":V=[[M.right-1,_],[M.right-1,le],[T.left+1,le],[T.left+1,_]];break}function F(K){let[N,z]=K;switch(S){case"top":{const X=[v?N+t/2:b?N+t*4:N-t*4,z+t+1],ee=[v?N-t/2:b?N+t*4:N-t*4,z+t+1],re=[[T.left,b||v?T.bottom-t:T.top],[T.right,b?v?T.bottom-t:T.top:T.bottom-t]];return[X,ee,...re]}case"bottom":{const X=[v?N+t/2:b?N+t*4:N-t*4,z-t],ee=[v?N-t/2:b?N+t*4:N-t*4,z-t],re=[[T.left,b||v?T.top+t:T.bottom],[T.right,b?v?T.top+t:T.bottom:T.top+t]];return[X,ee,...re]}case"left":{const X=[N+t+1,A?z+t/2:R?z+t*4:z-t*4],ee=[N+t+1,A?z-t/2:R?z+t*4:z-t*4];return[...[[R||A?T.right-t:T.left,T.top],[R?A?T.right-t:T.left:T.right-t,T.bottom]],X,ee]}case"right":{const X=[N-t,A?z+t/2:R?z+t*4:z-t*4],ee=[N-t,A?z-t/2:R?z+t*4:z-t*4],re=[[R||A?T.left+t:T.right,T.top],[R?A?T.left+t:T.right:T.left+t,T.bottom]];return[X,ee,...re]}}}if(!Mn([L,H],V)){if(i&&!C)return k();if(!P&&r){const K=u(I.clientX,I.clientY);if(K!==null&&K<.1)return k()}Mn([L,H],F([h,d]))?!i&&r&&(o=window.setTimeout(k,40)):k()}}};return g.__options={blockPointerEvents:n},g}export{ri as F,zo as a,ni as b,ui as c,si as d,fi as e,Xo as f,li as g,ze as h,Qo as i,qe as j,Jo as k,di as l,gi as m,ii as n,Uo as o,ai as p,mi as q,Go as r,Yo as s,ei as t,ci as u,Zo as v,oi as w,ti as x,Ct as y};
